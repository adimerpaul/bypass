import{_ as f,P as _,Q as v,R as V,S as i,T as t,aB as h,V as o,aC as n,U as p,aD as m,W as x}from"./index.42000889.js";import{Q as P}from"./QSelect.0157eb4b.js";import{Q as b}from"./QPage.02ff451e.js";import{m as y}from"./vue3-apexcharts.875450c1.js";import{h as g}from"./moment.40bc58bf.js";import"./format.e6db19a8.js";const C={name:"PredictivePage",components:{apexchart:y},data(){return{fecha_inicio:"2024-09-30",fecha_fin:g().format("YYYY-MM-DD"),products:[],selectedProduct:null,chartOptions:{chart:{id:"predictive-chart",toolbar:{show:!0}},xaxis:{type:"datetime",title:{text:"Fecha"}},yaxis:{title:{text:"Total Ventas"}},title:{text:"Predicci\xF3n de Ventas",align:"center"}},chartSeries:[{name:"Ventas Totales",data:[]},{name:"Predicci\xF3n",data:[]}]}},mounted(){this.fetchChartData(),this.getProducts()},methods:{async getProducts(){this.$axios.get("products").then(a=>{this.products=a.data}).catch(a=>{console.error("Error al obtener los productos:",a)})},async fetchChartData(){this.chartSeries=[{name:"Ventas Totales",data:[]},{name:"Predicci\xF3n",data:[]}],this.$axios.post("http://127.0.0.1:5000/regresion",{fecha_inicio:this.fecha_inicio,fecha_fin:this.fecha_fin}).then(a=>{if(a.data.predicciones){const s=a.data.predicciones.map(c=>[new Date(c.week).getTime(),c.total_ventas]),r=a.data.predicciones.map(c=>[new Date(c.week).getTime(),c.predicted]);this.chartSeries=[{name:"Ventas Totales",data:s},{name:"Predicci\xF3n",data:r}]}}).catch(a=>{console.error("Error al obtener los datos del gr\xE1fico:",a)})}}},w=o("div",{class:"text-h5 text-bold"},"Gr\xE1fico Predictivo de ventas",-1),D={class:"row"},k={class:"row"},Q=o("div",{class:"col-12 col-md-2"},null,-1),S={class:"col-12 col-md-8"},B=o("div",{class:"col-12 col-md-2"},null,-1),F=o("div",{class:"text-h5 text-bold"},"Gr\xE1fico Predictivo de Productos",-1),T={class:"row"},U={class:"row"},Y=o("div",{class:"col-12 col-md-2"},null,-1),q={class:"col-12 col-md-8"},I=o("div",{class:"col-12 col-md-2"},null,-1);function O(a,s,r,c,e,d){const u=_("apexchart");return v(),V(b,{class:"bg-grey-3 q-pa-xs"},{default:i(()=>[t(m,{class:"q-ma-md",flat:"",bordered:""},{default:i(()=>[t(h,null,{default:i(()=>[w,o("div",D,[t(n,{modelValue:e.fecha_inicio,"onUpdate:modelValue":s[0]||(s[0]=l=>e.fecha_inicio=l),type:"date",label:"Fecha Inicio",dense:"",outlined:"",class:"col"},null,8,["modelValue"]),t(n,{modelValue:e.fecha_fin,"onUpdate:modelValue":s[1]||(s[1]=l=>e.fecha_fin=l),type:"date",label:"Fecha Fin",dense:"",outlined:"",class:"col"},null,8,["modelValue"]),t(p,{label:"Buscar",color:"primary",onClick:d.fetchChartData,"no-caps":"",icon:"search",class:"col-auto"},null,8,["onClick"])]),o("div",k,[Q,o("div",S,[t(u,{type:"line",options:e.chartOptions,series:e.chartSeries},null,8,["options","series"])]),B])]),_:1})]),_:1}),t(m,{class:"q-ma-md",flat:"",bordered:""},{default:i(()=>[t(h,null,{default:i(()=>[F,o("div",T,[t(n,{modelValue:e.fecha_inicio,"onUpdate:modelValue":s[2]||(s[2]=l=>e.fecha_inicio=l),type:"date",label:"Fecha Inicio",dense:"",outlined:"",class:"col"},null,8,["modelValue"]),t(n,{modelValue:e.fecha_fin,"onUpdate:modelValue":s[3]||(s[3]=l=>e.fecha_fin=l),type:"date",label:"Fecha Fin",dense:"",outlined:"",class:"col"},null,8,["modelValue"]),t(P,{modelValue:e.selectedProduct,"onUpdate:modelValue":s[4]||(s[4]=l=>e.selectedProduct=l),options:e.products,label:"Producto",dense:"",outlined:"",class:"col","emit-value":"","map-options":"","display-value":"name"},null,8,["modelValue","options"]),o("pre",null,x(e.products),1),t(p,{label:"Buscar",color:"primary",onClick:d.fetchChartData,"no-caps":"",icon:"search",class:"col-auto"},null,8,["onClick"])]),o("div",U,[Y,o("div",q,[t(u,{type:"line",options:e.chartOptions,series:e.chartSeries},null,8,["options","series"])]),I])]),_:1})]),_:1})]),_:1})}var j=f(C,[["render",O]]);export{j as default};

import{_ as R,Q as _,R as Y,S as y,T as b,aB as A,V as t,aC as P,U as q,W as c,a0 as v,a1 as B,a2 as S,aD as $,L as U,b9 as E,a4 as z}from"./index.da022f16.js";import{Q as H}from"./QMarkupTable.e6d5c36e.js";import{Q as J}from"./QPage.dd58d8e9.js";import{h as L}from"./moment.40bc58bf.js";import{a as I}from"./_commonjsHelpers.a26ce4be.js";var X="Expected a function",Q=0/0,K="[object Symbol]",Z=/^\s+|\s+$/g,ee=/^[-+]0x[0-9a-f]+$/i,te=/^0b[01]+$/i,ne=/^0o[0-7]+$/i,se=parseInt,oe=typeof I=="object"&&I&&I.Object===Object&&I,re=typeof self=="object"&&self&&self.Object===Object&&self,ae=oe||re||Function("return this")(),ie=Object.prototype,le=ie.toString,ce=Math.max,de=Math.min,C=function(){return ae.Date.now()};function ue(e,s,l){var h,r,d,i,a,n,m=0,u=!1,p=!1,k=!0;if(typeof e!="function")throw new TypeError(X);s=N(s)||0,D(l)&&(u=!!l.leading,p="maxWait"in l,d=p?ce(N(l.maxWait)||0,s):d,k="trailing"in l?!!l.trailing:k);function T(o){var f=h,g=r;return h=r=void 0,m=o,i=e.apply(g,f),i}function F(o){return m=o,a=setTimeout(x,s),u?T(o):i}function G(o){var f=o-n,g=o-m,O=s-f;return p?de(O,d-g):O}function V(o){var f=o-n,g=o-m;return n===void 0||f>=s||f<0||p&&g>=d}function x(){var o=C();if(V(o))return M(o);a=setTimeout(x,G(o))}function M(o){return a=void 0,k&&h?T(o):(h=r=void 0,i)}function W(){a!==void 0&&clearTimeout(a),m=0,h=n=r=a=void 0}function w(){return a===void 0?i:M(C())}function j(){var o=C(),f=V(o);if(h=arguments,r=this,n=o,f){if(a===void 0)return F(n);if(p)return a=setTimeout(x,s),T(n)}return a===void 0&&(a=setTimeout(x,s)),i}return j.cancel=W,j.flush=w,j}function D(e){var s=typeof e;return!!e&&(s=="object"||s=="function")}function fe(e){return!!e&&typeof e=="object"}function he(e){return typeof e=="symbol"||fe(e)&&le.call(e)==K}function N(e){if(typeof e=="number")return e;if(he(e))return Q;if(D(e)){var s=typeof e.valueOf=="function"?e.valueOf():e;e=D(s)?s+"":s}if(typeof e!="string")return e===0?e:+e;e=e.replace(Z,"");var l=te.test(e);return l||ne.test(e)?se(e.slice(2),l?2:8):ee.test(e)?Q:+e}var me=ue,pe=me;const ge={name:"DiariesIndex",data(){return{date:L().format("YYYY-MM-DD"),diario:{},loading:!1}},mounted(){this.diarioGet()},methods:{update(e){console.log(e),this.$axios.put("diario/"+e.id,e).then(s=>{console.log(s.data)})},debouncedUpdate:pe(function(e){this.update(e)},500),diarioGet(){this.loading=!0,this.$axios.get("diarioDate/"+this.date).then(e=>{this.diario=e.data}).finally(()=>{this.loading=!1})},dia(e){return["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"][L(e).day()]}}},_e={class:"row"},be={class:"col-12 col-md-2"},xe={class:"col-12 col-md-2 text-center"},ye={class:"col-12"},ve={colspan:"9",class:"text-center text-bold"},Ie={colspan:"9",class:"text-center text-bold"},ke=t("tr",{class:"bg-black text-white"},[t("th",null,"Item"),t("th",null,"Medida"),t("th",null,"Inicio"),t("th",null,"Ingreso"),t("th",null,"Egreso"),t("th",null,"Ventas"),t("th",null,"Cierre"),t("th",null,"Local"),t("th",null,"Diferencia")],-1),Te={class:"text-center"},je={colspan:"9",class:"text-bold"},Se={class:"text-right"},Ce=["onUpdate:modelValue","onInput"],De={class:"text-right"},Ve={class:"text-right"},Me={class:"text-right"},Oe={class:"text-right"},Be={class:"text-right"},Ue=["onUpdate:modelValue","onInput"],Ee={class:"text-right"};function Le(e,s,l,h,r,d){return _(),Y(J,{class:"bg-grey-3 q-pa-xs"},{default:y(()=>[b($,null,{default:y(()=>[b(A,{class:"q-pa-xs"},{default:y(()=>[t("div",_e,[t("div",be,[b(P,{modelValue:r.date,"onUpdate:modelValue":s[0]||(s[0]=i=>r.date=i),type:"date",label:"Fecha",outlined:"",dense:"",loading:r.loading},null,8,["modelValue","loading"])]),t("div",xe,[b(q,{onClick:d.diarioGet,class:"text-bold",label:"Buscar",color:"primary",icon:"search","no-caps":"",loading:r.loading},null,8,["onClick","loading"])]),t("div",ye,[b(H,{dense:"","wrap-cells":"",bordered:""},{default:y(()=>[t("thead",null,[t("tr",null,[t("td",ve,"Diario del "+c(r.date),1)]),t("tr",null,[t("td",Ie,c(d.dia(r.date)),1)]),ke]),t("tbody",null,[(_(!0),v(S,null,B(r.diario,(i,a)=>(_(),v(S,{key:a},[t("tr",Te,[t("td",je,c(i.name),1)]),(_(!0),v(S,null,B(i.diario,(n,m)=>(_(),v("tr",{key:m},[t("td",null,c(n.item),1),t("td",null,c(n.medida),1),t("td",Se,[U(t("input",{"onUpdate:modelValue":u=>n.inicio=u,type:"number",style:{width:"100px"},onInput:u=>d.debouncedUpdate(n)},null,40,Ce),[[E,n.inicio]])]),t("td",De,c(n.ingreso),1),t("td",Ve,c(n.egreso),1),t("td",Me,c(n.ventas),1),t("td",Oe,c(n.cierre),1),t("td",Be,[U(t("input",{"onUpdate:modelValue":u=>n.local=u,type:"number",style:{width:"100px"},onInput:u=>d.debouncedUpdate(n)},null,40,Ue),[[E,n.local]])]),t("td",Ee,[t("div",{class:z(n.local-n.cierre<0?"text-negative":"text-positive")},c(n.local-n.cierre),3)])]))),128))],64))),128))])]),_:1})])])]),_:1})]),_:1})]),_:1})}var we=R(ge,[["render",Le]]);export{we as default};

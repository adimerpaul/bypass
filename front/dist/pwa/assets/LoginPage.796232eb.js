import{Q as n}from"./QImg.2e0c4be6.js";import{_ as m,Q as d,R as p,S as s,T as e,V as a,aD as _,aB as f,a0 as g,Z as h,bd as v,Y as w,aC as c,ar as i,U as b}from"./index.508b70b6.js";import{Q as x}from"./QForm.a947ca64.js";import{Q}from"./QPage.7b56f807.js";import{a as V,b as y}from"./QPageContainer.7499d05e.js";var k="/assets/login.196a23db.jpg";const C={data(){return{username:"",password:"",passwordVisible:!1,loading:!1}},methods:{login(){this.loading=!0,this.$axios.post("login",{username:this.username,password:this.password}).then(l=>{this.$store.user=l.data.user,this.$store.isLogged=!0,localStorage.setItem("tokenPrestamos",l.data.token),this.$axios.defaults.headers.common.Authorization=`Bearer ${l.data.token}`,this.$router.push("/")}).catch(l=>{this.$alert.error(l.response.data.message)}).finally(()=>{this.loading=!1})}}},B={class:"row"},I=a("div",{class:"col-12 col-md-1"},null,-1),S={class:"col-12 col-md-10"},q={class:"row"},P={key:0,class:"col-12 col-md-8 flex flex-center"},L={class:"col-12 col-md-4 q-pa-md"},U={class:"row"},E={class:"col-12 text-center"},N=a("div",{class:"text-h6 text-center text-bold"},"Iniciar Sesi\xF3n",-1),$=a("div",{class:"text-caption text-center"},"Ingresa tus credenciales para acceder al sistema",-1);function z(l,r,A,j,o,u){return d(),p(V,null,{default:s(()=>[e(y,null,{default:s(()=>[e(Q,{class:"q-pa-lg dark-overlay"},{default:s(()=>[a("div",B,[I,a("div",S,[e(_,null,{default:s(()=>[e(f,null,{default:s(()=>[a("div",q,[l.$q.screen.lt.md?h("",!0):(d(),g("div",P,[e(n,{src:k})])),a("div",L,[e(x,{onSubmit:v(u.login,["prevent"])},{default:s(()=>[a("div",U,[a("div",E,[e(w,{"text-color":"white",size:"100px"},{default:s(()=>[e(n,{src:"logo.png"})]),_:1})])]),N,$,e(c,{modelValue:o.username,"onUpdate:modelValue":r[0]||(r[0]=t=>o.username=t),label:"Usuario",outlined:"",rules:[t=>!!t||"Este campo es requerido"],rounded:""},{prepend:s(()=>[e(i,{name:"account_circle"})]),_:1},8,["modelValue","rules"]),e(c,{modelValue:o.password,"onUpdate:modelValue":r[2]||(r[2]=t=>o.password=t),label:"Contrase\xF1a",type:o.passwordVisible?"text":"password",outlined:"",rules:[t=>!!t||"Este campo es requerido"],rounded:""},{prepend:s(()=>[e(i,{name:"lock"})]),append:s(()=>[e(i,{name:o.passwordVisible?"visibility":"visibility_off",onClick:r[1]||(r[1]=t=>o.passwordVisible=!o.passwordVisible)},null,8,["name"])]),_:1},8,["modelValue","type","rules"]),e(b,{color:"primary",class:"full-width",rounded:"",label:"Iniciar Sesi\xF3n",type:"submit","no-caps":"",loading:o.loading},null,8,["loading"])]),_:1},8,["onSubmit"])])])]),_:1})]),_:1})])])]),_:1})]),_:1})]),_:1})}var Y=m(C,[["render",z]]);export{Y as default};
